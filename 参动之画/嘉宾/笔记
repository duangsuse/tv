全篇最常见的旋转、滑移，带入出场的动画，其实是 `[transform, rotate:deg , -a,0]+出, [margin-bottom, px, a, 0]-出` 与 opacity 的并列 CSS 动画；透明度的速率可以是线性的啊
这个几何变化的入出场用动画 forwards 保留更改也能做，但要先 reverse 放一遍设初位，而透明度出场是反向的，选择啥始终是正向
这次基本都是单调增的速率曲线，很少有单次就往返或者有弹跳的；一个悲伤 想不通的 情绪体现到

而等时差逐字和打字机的动画，是主要的 JS 动画。时差显现本质上是一个切出文本粒子每项应用滑移的动画，打字机也是二分的特殊粒子化动画；毕竟每帧里 宽高加起来始终相等嘛
等时差也决定它是同时淡出还是正序、逆序逐个淡出的，必须有一个 CSS 和 JS 动画的统一

我们 CSS 动画用的是 animKF(dur,kf_obj, ease?) JS 是 anim(dur,f,v01, ease?) ，二者都有暴露 ondone, t 的时间轴可调；此外还要有 reverse 和 next 来设置出入场 类似PPT

特殊的 JS 动画是落雪、光线流、笛卡尔心(体积参数)，那个SVG圆圈和柱子的，这个就只有淡入淡出 落雪是向量计算不按时间线的；光线流和笛卡尔心是，但要用的就是入出场；
SVG 的就真只是内嵌了一个SVG动画填它时长信息而已、心的贝兹波形是我抄的

笛卡尔心破碎的那个比较有意思，它也是把 canvas 分成小正方形的粒子效果，是把粒子乱序后分N组，移到对应矩形内的；每个粒子的都是利用 anim()(t) + 同ease t 而不是 play() an.t 去做的播放 (mkey/讲师,点计算/弦图
关于动画方式是一堆 p0~p1 同t 还是利用 CSS offset:path 同distance 其实可互换，如果它有多个点 随机飞散的话path 好一点，但生成多点也麻烦。


主体的时间线是靠 srt, Audacity 的那种时间轴保存的，然后有三个主要HTML布局，正常、上大下大 下小、左右夹啊；然后文本也是支持 HTML 代码，方便涂改的


总而言之我觉得这次最喜欢的是文本粒子效果、入出场动画、时间打点，我其实有在注意复用性，比如逐字是有更普适的逐元素API，其实也没什么就是混合了点不常用的H5技术，体现到个人情感

光斑是据灰度卷积算的，和边缘检测有点像。拖影是保留上帧重绘的，可滤镜的

文字晃动是做了2rect 小的对齐大左(不是内对齐)，随机选点 offset-path

然后是蒙版擦除、贪吃蛇 slide 的动画

蒙版是像素灰度图，颜色越深、不透明值越大就越先出现，不会有人告诉我用 setTimeout 画每点吧？是关于一个 t 啊， 那显然每次原图的 a 通道被替换成不断加深直到 0xff 的蒙版，即 a=mask+(0xff-mask)*t

其实不是，ImageData 的字节都是顶限的，只需 mask+=0xff/nFrame ；把最白点能涂黑就成

相应增加两个函数 lum(g, iv=3) a通道的灰度， putI(g,x,y)(img, xywh,kcomp) ，反色类的kcomp完成后可以把 ImageData 提取出来作 erease 动画的蒙版

大家都知道擦除效果有个参数，平滑度，理论上我们的蒙版和原图是等大的，无缩放不该有这个

Web 只支持 8位RGBA ，a 是 0~0xff即255，没办法把它组合成一个数，但像素量可能这么少吗？如果你的蒙版需要像素级的透明渐变，或许就该用些高保真的仅灰度格式，不过幸好255阶透明也是够用的

CellShift(item, mask, data, fl={snake,dir}) 可以用文字组成贪吃蛇，mask 可以是生成右下到中心的 Int 2D组，以内容分组 x,y 变为点集时轴列，以相邻项首项比较四向得方向 2D 组；或随机挑 dir

默认，让 p=ord[i] 的项们以 dir[p] 滑入/出 data[i]

在蛇模式，有个只增长队列，每帧都 i=0~N 滑入蛇体 item p=dord[i]，它的最终态是 i=0 在中心位置

dord 是时轴分组的逆序，每点分配 data[p]
