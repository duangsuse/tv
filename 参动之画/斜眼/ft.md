傅里叶变换可以用于音乐可视化(波形->频谱图)、电音与乐器合成及图像滤波(H/L/Band-pass)、音视频压缩(jpg,mp3)。 Better explained (https://betterexplained.com/articles/an-interactive-guide-to-the-fourier-transform/) 有个解释：”可以告诉你一杯水有什么成分“。 其实还不如用颜色纷呈->颜色分层的鸡尾酒来解释，白光也是由所有频率的可见光波构成的，“折色”棱镜(红波长最长,绿频率最耀眼)就是这FT。

颜色五彩斑斓，却是由rgb三原色或hsv色向-饱和光度 这些分量构成的，音响波动捉摸不定，却是由不同频的sin震幅构成的。音高是频率，响度是震幅，震动模式“音色”也即频谱

怎么从心电图算心率，算直线部分比率吗？可杂音和极值外的部分算心跳吗？ 可以取震幅最大的频率。

这是一个正逆傅里叶变换，调用两次以 -i+N,f ; i*t,a[i+N] （其中f是+-1内2D路径 t是路径% k=+-i是第kHz频谱）：
with(Math){DEG=2*PI,转=(r,f)=>f(cos(r),sin(r))}
just=k=>()=>k
律=(k,f)=>{let cx=0,yi=0,d=dt, t=f.pop?(f=just(f),d= 1):0;for(;t<=1;t+=d)
  转(k*t*DEG,(X,Y)=>{let[x,y]=f(t); cx+=d*(x*X-y*Y); yi+=d*(x*Y+y*X) } )
  return [cx,yi]
}
d*的是虚数乘法，当应用于1D(如声音)，y恒为0
虚数用于2D旋转(公式 xcos-ysin,xsin+ycos :于角r)。其实，FT 也有非虚数的形式 (https://www.desmos.com/calculator/qpnz9celzf?lang=zh-CN) Int[t=0~5] f(t)cos(xpi*t)dt ，只是其反函数  有两个表达式 (https://math.stackexchange.com/questions/275115/why-do-fourier-transforms-use-complex-numbers)，所以复数轴y的ii=-1=180deg是简化计算的（呃



为什么？可以把手绘路径视作点构成的折线，它是xyt深 3个轴构成的3D图像，t=0~1。举起左手食指y，拇指中指是xz轴。
转(tDEG 在xy平面只是圈，但考虑t深，ty右平面=sin, xt顶平面=cos ，它是t的螺旋 (https://silhouettesforyou.github.io/2021/11/24/22/#%E6%8C%87%E6%95%B0%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2)，因此 2D旋转t%后正是 +-1 内点与螺旋的差，如果输入恰好是0,0宽1的正圆，路径t%点 t%DEG旋转结果— 0点转0,6点转6,... 会开始叠加而非互相抵消，给出一个震幅向量，这就是傅里叶的物理意义
有了震幅向量，以其 频率*震幅=动量 ；路径原点=不同频率(圈大小)的动量之和，咱把累积动量每内点画成圆圈，而跟踪最外点，就成了傅里叶的可视化。

圆圈大=震幅大，速度快=频率快。如果图像较毛刺，中频信号会略广，如果图像很圆，几乎只1圈在转。 频率震幅也能再”变换“—相对0,0长度=震幅、角度=相位
对人眼而言色相位比振幅重要，而声音频率即音高，常Q法就能从波形检测八度音。

@3b1b 的视角也是如此：迭代sin(t)，再每点具有t%圆的角度，即其缠绕在0点为中心对称花，正负抵消无振幅，但若频率kt%(即x上竖线1Hz)正好合适，会发生“共振”-竖线正好量出sin的波峰

代码怎么写？
实数是稠密的，需取一个dt来把路径分成N=1/dt个散点，即 律(k,f=t=>svg.getPointAt(t*totalLen) ) 即 ps[t*n(ps) >>0]
画布用 fillRect(x,y,1,1) 画点，stroke(arc(x,y,l, 0,DEG)) 画圆，moveTo+lineTo*N 画折线。 SVG可先内联在代码里，通过<path d="M0,0..."> 加载
setInterval 里记t%的内动量之和-画旧点初[0,0]，连线到新点，画距离之长的圆
过去的端点路径用[]记录：
logPoints=(a=[])=>p=>{a.push(p); a.forEach(p=>g.fillRect(...p,1,1))}
对无尽重复动画只push不好，可用环形队列 Array(1/dt),i=0, a[i=(i+1)%n(a)]=记录 ，遍历略。
因同时跑正反函数，律的k只要相反就能、转的cos/sin只要01位置计算对应就OK，但应期望频谱是正的。
但从0点积分震荡可以写成不必居中平移数据到0,0的版本，f(t)e^i2pi*-t k 内e平移到正轴即避免数组索引右移。考虑理论优雅和性能 仅简化代码时用。
也有数组含正负索引和虚数向量混为一谈的写法

若把xy(0,1)旋转t*DEG ，xy-t深里它就是螺旋线，当然f(t)不会一直是0,1。在1D里仅用复数的实轴x，从tx上看它积了sin(kt)与ft的振幅距离，反向时已知k和振幅l，用sin(k*-t)l 让y反着震(考虑两个sin 1*2pi x 的乘,距大积大,故需反比-在正公式)得原ft，2D复数直接兼容

为什么3b1b的视频用拟人π呢？或许是象征学术圈吧，大家都是一个半圆，让对方完整，所以才能构成圈而非沙堡啊。
为什么我要在没头脑和不高兴间二选一呢？我在工程时是严肃的，但科普时就可以很随性，自由选择语言侧重。因为科普并不是需要大师精英来完成，自然而然去做就行啦

我一定会努力追求他们的高度、遍历技术之广度，哪怕是用自己的方法，哪怕高数没有及格过；
我不想断言它们或自己属于什么层次，因为，至少每一步都很有趣啊！

可以回到信号处理来思考了。这位大佬的博客很好阐述了FT对信号的建模，但就像知乎很火那篇一样，有些没讲清。

他博客的3D螺旋面正是“改相位”旋转后点动成面的版本，那里还有同一个方波的AB版，B版只是x位>0，虚数轴上就有波动，而方波心处于0点的A 就只有实数=震幅。
暂把复数的 real=x,imag=y。 震幅是x轴，相位是y轴。为何y能表示相位？相位和频率有何不同？ 之前我们只考虑频率-震幅的滤波，以及为何是虚数，没过问1D的滤波为何也有两个数，只是断言输入y恒0

回想3b1b的说法，我们把sin叠上x重复的“Hz栅栏”(代表转了一周)，再在不断旋转的极座标添加栅栏点上的y值——若频率刚好合适，角度=0(右逆时针)时x是sin的峰值；那么若不止记录栅栏交点，sin会在极座标正右侧画出著名的 r=1-sina 笛卡尔心
如果sin(x+.1T) 微调了相位，不难推测 这个心形不会有变化，只是向上偏移一点，即y有起伏，因此仅靠频率震幅描述有一点损失，才有FT和复数指数的联谊

再看看知乎很火这篇，最后他两张图没给源码。

这个海螺图纵是t轴，把它转90度就和刚刚的博客对应了，那个很朴素用了两条曲线而非3D表示复数随t变化
这个映射到实数空间的，我猜横是-t轴，或者深是t轴？嘛，不想了


最后我也说点感想，我是大专生所以没啥好emo的，我也没有在试卷上“瞎写”想得分的动机。我们是工程界，是不吝于把每个细节展平的，在观念侧重上和理论界就有别；

不过就教育上，我学习是自底而预测上，编程从来是自顶向下的，我不在理论不清晰的情况下动键盘；或许在各位眼中这不算清晰理论，但对入门已经够了。这篇文章相较信号处理不算什么，至少它给了初学者心智模型的线头，能做些App就够了。

欢迎大家修补文中错误，前提是语序和知识背景表达得当，因为我也是IQ比较低的人，说不清理由的做法概念不太能去猜。在拜读 Xecades 大佬的可视化后我花了半个星期搞清FT和数学有何联系，结果找了半天看太多图表和比喻却没一个讲清楚从何对应的，无从对证难以优化的数学概念弄得我很抓狂，我不想生搬硬套弄冗余代码和公式的缝合怪，才有此文

不知道你们怎么看这些数学算法，反正我眼里它不是神圣的，也没有法则可遵循。就像物理唯一，独立概念不会让推导探索变容易，作为程序员我真的看够了TeX上下标了，该写明的一个字，不该写的举例一大堆，要做啥不说就开始推，跟随机数一样；公式出现的时机和实例揉杂度不恰当，反直觉的设计(如象限和极座标)不强调和联系，仿佛理所当然；两个字能讲明非得逻辑并立，放程序里叫乱命名外提-表达式，谈符号系统严谨怎么不和电脑比，计算机严谨得更死板，能更好处理线性代数矩阵，而且不会弄出大Sigma小sigma的“多态性”。
作为编译器爱好者不生气是不可能的，本来我的计划只是重写动画，后来又顺势填了声音滤波，过程中不懂的理论又增加了！（呓语：你说看到就能懂的文章不好吗，超市购物一样。现在真很费力，到头有人还要说我吃了不会数学的亏，程序员为何物懂数学？

在我眼里至少许多编程API的设计是可笑的(如fftw)，即便它们是许多应用的基石，也掩盖不了语言的贫瘠，于是我再也不崇拜知识了，崇拜不能帮你更好拥有或重构，心理或人无关技术。 教育没有问题，反正没人爱知识——爱是即便你或它一无所有也要追随。 我现在是很觉得半个星期白费了，要是有个大佬发文直接从0教我写了这篇位置里的东西，我就不必在数学上下标和各领域版本的符号上浪费时间了。

现在我写了文，内心没有丝毫波澜，因为本来我可以弄更好玩而放松的js脚本，却因无注释的程序浪费了时间。

输入 改写 清
绘制  不降序/清频
高低通 Ctrl单改 Shift滑移

用于处理录制。完后才进行宽频滤波，如模拟对讲机声音；之后还有两项平均和K-S法吉他声合成，两项平均应用在滤波后，输出到新波形，吉他声同理，在指针返回0时低通滤波迭代原波形
